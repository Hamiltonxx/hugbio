(function(e,t){if(typeof define==="function"&&define.amd){define(["module","exports"],t)}else if(typeof exports!=="undefined"){t(module,exports)}else{var n={exports:{}};t(n,n.exports);e.WOW=n.exports}})(this,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,i;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();function o(e,t){return t.indexOf(e)>=0}function a(e,t){for(var n in t){if(e[n]==null){var i=t[n];e[n]=i}}return e}function l(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)}function u(e){var t=arguments.length<=1||arguments[1]===undefined?false:arguments[1];var n=arguments.length<=2||arguments[2]===undefined?false:arguments[2];var i=arguments.length<=3||arguments[3]===undefined?null:arguments[3];var s=void 0;if(document.createEvent!=null){s=document.createEvent("CustomEvent");s.initCustomEvent(e,t,n,i)}else if(document.createEventObject!=null){s=document.createEventObject();s.eventType=e}else{s.eventName=e}return s}function c(e,t){if(e.dispatchEvent!=null){e.dispatchEvent(t)}else if(t in(e!=null)){e[t]()}else if("on"+t in(e!=null)){e["on"+t]()}}function f(e,t,n){if(e.addEventListener!=null){e.addEventListener(t,n,false)}else if(e.attachEvent!=null){e.attachEvent("on"+t,n)}else{e[t]=n}}function h(e,t,n){if(e.removeEventListener!=null){e.removeEventListener(t,n,false)}else if(e.detachEvent!=null){e.detachEvent("on"+t,n)}else{delete e[t]}}function d(){if("innerHeight"in window){return window.innerHeight}return document.documentElement.clientHeight}var v=window.WeakMap||window.MozWeakMap||function(){function e(){s(this,e);this.keys=[];this.values=[]}r(e,[{key:"get",value:function e(e){for(var t=0;t<this.keys.length;t++){var n=this.keys[t];if(n===e){return this.values[t]}}return undefined}},{key:"set",value:function e(e,t){for(var n=0;n<this.keys.length;n++){var i=this.keys[n];if(i===e){this.values[n]=t;return this}}this.keys.push(e);this.values.push(t);return this}}]);return e}();var m=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver||(i=n=function(){function e(){s(this,e);if(typeof console!=="undefined"&&console!==null){console.warn("MutationObserver is not supported by your browser.");console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}}r(e,[{key:"observe",value:function e(){}}]);return e}(),n.notSupported=true,i);var y=window.getComputedStyle||function e(e){var t=/(\-([a-z]){1})/g;return{getPropertyValue:function n(n){if(n==="float"){n="styleFloat"}if(t.test(n)){n.replace(t,function(e,t){return t.toUpperCase()})}var i=e.currentStyle;return(i!=null?i[n]:void 0)||null}}};var p=function(){function e(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];s(this,e);this.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:true,live:true,callback:null,scrollContainer:null,resetAnimation:true};this.animate=function e(){if("requestAnimationFrame"in window){return function(e){return window.requestAnimationFrame(e)}}return function(e){return e()}}();this.vendors=["moz","webkit"];this.start=this.start.bind(this);this.resetAnimation=this.resetAnimation.bind(this);this.scrollHandler=this.scrollHandler.bind(this);this.scrollCallback=this.scrollCallback.bind(this);this.scrolled=true;this.config=a(t,this.defaults);if(t.scrollContainer!=null){this.config.scrollContainer=document.querySelector(t.scrollContainer)}this.animationNameCache=new v;this.wowEvent=u(this.config.boxClass)}r(e,[{key:"init",value:function e(){this.element=window.document.documentElement;if(o(document.readyState,["interactive","complete"])){this.start()}else{f(document,"DOMContentLoaded",this.start)}this.finished=[]}},{key:"start",value:function e(){var e=this;this.stopped=false;this.boxes=[].slice.call(this.element.querySelectorAll("."+this.config.boxClass));this.all=this.boxes.slice(0);if(this.boxes.length){if(this.disabled()){this.resetStyle()}else{for(var t=0;t<this.boxes.length;t++){var n=this.boxes[t];this.applyStyle(n,true)}}}if(!this.disabled()){f(this.config.scrollContainer||window,"scroll",this.scrollHandler);f(window,"resize",this.scrollHandler);this.interval=setInterval(this.scrollCallback,50)}if(this.config.live){var i=new m(function(t){for(var n=0;n<t.length;n++){var i=t[n];for(var s=0;s<i.addedNodes.length;s++){var r=i.addedNodes[s];e.doSync(r)}}return undefined});i.observe(document.body,{childList:true,subtree:true})}}},{key:"stop",value:function e(){this.stopped=true;h(this.config.scrollContainer||window,"scroll",this.scrollHandler);h(window,"resize",this.scrollHandler);if(this.interval!=null){clearInterval(this.interval)}}},{key:"sync",value:function e(){if(m.notSupported){this.doSync(this.element)}}},{key:"doSync",value:function e(e){if(typeof e==="undefined"||e===null){e=this.element}if(e.nodeType!==1){return}e=e.parentNode||e;var t=e.querySelectorAll("."+this.config.boxClass);for(var n=0;n<t.length;n++){var i=t[n];if(!o(i,this.all)){this.boxes.push(i);this.all.push(i);if(this.stopped||this.disabled()){this.resetStyle()}else{this.applyStyle(i,true)}this.scrolled=true}}}},{key:"show",value:function e(e){this.applyStyle(e);e.className=e.className+" "+this.config.animateClass;if(this.config.callback!=null){this.config.callback(e)}c(e,this.wowEvent);if(this.config.resetAnimation){f(e,"animationend",this.resetAnimation);f(e,"oanimationend",this.resetAnimation);f(e,"webkitAnimationEnd",this.resetAnimation);f(e,"MSAnimationEnd",this.resetAnimation)}return e}},{key:"applyStyle",value:function e(e,t){var n=this;var i=e.getAttribute("data-wow-duration");var s=e.getAttribute("data-wow-delay");var r=e.getAttribute("data-wow-iteration");return this.animate(function(){return n.customStyle(e,t,i,s,r)})}},{key:"resetStyle",value:function e(){for(var e=0;e<this.boxes.length;e++){var t=this.boxes[e];t.style.visibility="visible"}return undefined}},{key:"resetAnimation",value:function e(e){if(e.type.toLowerCase().indexOf("animationend")>=0){var t=e.target||e.srcElement;t.className=t.className.replace(this.config.animateClass,"").trim()}}},{key:"customStyle",value:function e(e,t,n,i,s){if(t){this.cacheAnimationName(e)}e.style.visibility=t?"hidden":"visible";if(n){this.vendorSet(e.style,{animationDuration:n})}if(i){this.vendorSet(e.style,{animationDelay:i})}if(s){this.vendorSet(e.style,{animationIterationCount:s})}this.vendorSet(e.style,{animationName:t?"none":this.cachedAnimationName(e)});return e}},{key:"vendorSet",value:function e(e,t){for(var n in t){if(t.hasOwnProperty(n)){var i=t[n];e[""+n]=i;for(var s=0;s<this.vendors.length;s++){var r=this.vendors[s];e[""+r+n.charAt(0).toUpperCase()+n.substr(1)]=i}}}}},{key:"vendorCSS",value:function e(e,t){var n=y(e);var i=n.getPropertyCSSValue(t);for(var s=0;s<this.vendors.length;s++){var r=this.vendors[s];i=i||n.getPropertyCSSValue("-"+r+"-"+t)}return i}},{key:"animationName",value:function e(e){var t=void 0;try{t=this.vendorCSS(e,"animation-name").cssText}catch(n){t=y(e).getPropertyValue("animation-name")}if(t==="none"){return""}return t}},{key:"cacheAnimationName",value:function e(e){return this.animationNameCache.set(e,this.animationName(e))}},{key:"cachedAnimationName",value:function e(e){return this.animationNameCache.get(e)}},{key:"scrollHandler",value:function e(){this.scrolled=true}},{key:"scrollCallback",value:function e(){if(this.scrolled){this.scrolled=false;var e=[];for(var t=0;t<this.boxes.length;t++){var n=this.boxes[t];if(n){if(this.isVisible(n)){this.show(n);continue}e.push(n)}}this.boxes=e;if(!this.boxes.length&&!this.config.live){this.stop()}}}},{key:"offsetTop",value:function e(e){while(e.offsetTop===undefined){e=e.parentNode}var t=e.offsetTop;while(e.offsetParent){e=e.offsetParent;t+=e.offsetTop}return t}},{key:"isVisible",value:function e(e){var t=e.getAttribute("data-wow-offset")||this.config.offset;var n=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset;var i=n+Math.min(this.element.clientHeight,d())-t;var s=this.offsetTop(e);var r=s+e.clientHeight;return s<=i&&r>=n}},{key:"disabled",value:function e(){return!this.config.mobile&&l(navigator.userAgent)}}]);return e}();t.default=p;e.exports=t["default"]});